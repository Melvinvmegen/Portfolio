{"ast":null,"code":"import _classCallCheck from\"/home/melvin/code/Melvinvmegen/melvinvmegen.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/melvin/code/Melvinvmegen/melvinvmegen.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/melvin/code/Melvinvmegen/melvinvmegen.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/melvin/code/Melvinvmegen/melvinvmegen.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/melvin/code/Melvinvmegen/melvinvmegen.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import Modal from\"../../Components/Modal/Modal\";var withErrorHandler=function withErrorHandler(WrappedComponent,axios){var _temp;return _temp=/*#__PURE__*/function(_Component){_inherits(_temp,_Component);function _temp(){var _getPrototypeOf2;var _this;_classCallCheck(this,_temp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(_temp)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={error:null};_this.errorConfirmedHandler=function(){_this.setState({error:null});};return _this;}_createClass(_temp,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.interceptors.request.use(function(req){_this2.setState({error:null});return req;});axios.interceptors.response.use(function(res){return res;},function(error){_this2.setState({error:error});});}},{key:\"render\",value:function render(){return React.createElement(Fragment,null,React.createElement(WrappedComponent,this.props),React.createElement(Modal,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null));}}]);return _temp;}(Component),_temp;};export default withErrorHandler;","map":{"version":3,"sources":["/home/melvin/code/Melvinvmegen/melvinvmegen.github.io/src/hoc/withErrorHandler/withErrorHandler.js"],"names":["React","Component","Fragment","Modal","withErrorHandler","WrappedComponent","axios","state","error","errorConfirmedHandler","setState","interceptors","request","use","req","response","res","props","message"],"mappings":"02BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,gBAAD,CAAmBC,KAAnB,CAA6B,WACpD,uYAEEC,KAFF,CAEU,CACNC,KAAK,CAAE,IADD,CAFV,OAgBEC,qBAhBF,CAgB0B,UAAM,CAC5B,MAAKC,QAAL,CAAc,CAAEF,KAAK,CAAE,IAAT,CAAd,EACD,CAlBH,8FAMsB,iBAClBF,KAAK,CAACK,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,SAAAC,GAAG,CAAI,CACpC,MAAI,CAACJ,QAAL,CAAc,CAAEF,KAAK,CAAE,IAAT,CAAd,EACA,MAAOM,CAAAA,GAAP,CACD,CAHD,EAIAR,KAAK,CAACK,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,SAAAG,GAAG,QAAIA,CAAAA,GAAJ,EAAnC,CAA4C,SAAAR,KAAK,CAAI,CACnD,MAAI,CAACE,QAAL,CAAc,CAAEF,KAAK,CAAEA,KAAT,CAAd,EACD,CAFD,EAGD,CAdH,uCAoBW,CACP,MACE,qBAAC,QAAD,MACE,oBAAC,gBAAD,CAAsB,KAAKS,KAA3B,CADF,CAEE,oBAAC,KAAD,EACE,IAAI,CAAE,KAAKV,KAAL,CAAWC,KADnB,CAEE,WAAW,CAAE,KAAKC,qBAFpB,EAGG,KAAKF,KAAL,CAAWC,KAAX,CAAmB,KAAKD,KAAL,CAAWC,KAAX,CAAiBU,OAApC,CAA8C,IAHjD,CAFF,CADF,CAUD,CA/BH,mBAAqBjB,SAArB,QAiCD,CAlCD,CAoCA,cAAeG,CAAAA,gBAAf","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport Modal from \"../../Components/Modal/Modal\";\n\nconst withErrorHandler = (WrappedComponent, axios) => {\n  return class extends Component {\n\n    state = {\n      error: null\n    }\n\n    componentDidMount() {\n      axios.interceptors.request.use(req => {\n        this.setState({ error: null });\n        return req;\n      })\n      axios.interceptors.response.use(res => res, error => {\n        this.setState({ error: error });\n      });\n    }\n\n    errorConfirmedHandler = () => {\n      this.setState({ error: null })\n    }\n\n    render() {\n      return (\n        <Fragment>\n          <WrappedComponent {...this.props} />\n          <Modal\n            show={this.state.error}\n            modalClosed={this.errorConfirmedHandler}>\n            {this.state.error ? this.state.error.message : null}\n          </Modal>\n        </Fragment>\n      )\n    }\n  }\n}\n\nexport default withErrorHandler;\n"]},"metadata":{},"sourceType":"module"}